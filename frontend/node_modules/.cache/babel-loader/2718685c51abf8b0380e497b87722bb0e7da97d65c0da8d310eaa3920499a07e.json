{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hajar\\\\Desktop\\\\recommandation-marrakech1\\\\frontend\\\\src\\\\components\\\\RecommendationCard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Card, Button, Spinner } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction GenerateRecommendation() {\n  _s();\n  const [recommendation, setRecommendation] = useState(null);\n  const [imageUrl, setImageUrl] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const fetchRecommendation = async () => {\n    try {\n      setLoading(true);\n\n      // 1. Récupérer la recommandation\n      const response = await axios.post('http://localhost:8000/api/recommendations/create-recommendation/', {\n        lieu: 'Marrakech',\n        budget: 'moyen',\n        activite: 'détente',\n        climat: 'modéré',\n        transport: 'à pied'\n      });\n      setRecommendation(response.data);\n\n      // 2. Récupérer l'image\n      const imageResponse = await axios.get(`http://localhost:8000/api/recommendations/get-image/Marrakech/`);\n      setImageUrl(imageResponse.data.image_url);\n      setLoading(false);\n    } catch (error) {\n      console.error(\"Erreur lors de la récupération :\", error);\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center my-5\",\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"success\",\n      onClick: fetchRecommendation,\n      children: \"G\\xE9n\\xE9rer une Recommandation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(Spinner, {\n      animation: \"border\",\n      variant: \"primary\",\n      className: \"mt-3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 19\n    }, this), recommendation && /*#__PURE__*/_jsxDEV(Card, {\n      className: \"mt-4\",\n      style: {\n        maxWidth: \"500px\",\n        margin: \"auto\"\n      },\n      children: [imageUrl && /*#__PURE__*/_jsxDEV(Card.Img, {\n        variant: \"top\",\n        src: imageUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n          children: recommendation.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n          children: recommendation.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(GenerateRecommendation, \"BJjdZZOa8AgZRxAfTBnMD+U7NLw=\");\n_c = GenerateRecommendation;\nexport default GenerateRecommendation;\nvar _c;\n$RefreshReg$(_c, \"GenerateRecommendation\");","map":{"version":3,"names":["React","useState","axios","Card","Button","Spinner","jsxDEV","_jsxDEV","GenerateRecommendation","_s","recommendation","setRecommendation","imageUrl","setImageUrl","loading","setLoading","fetchRecommendation","response","post","lieu","budget","activite","climat","transport","data","imageResponse","get","image_url","error","console","className","children","variant","onClick","fileName","_jsxFileName","lineNumber","columnNumber","animation","style","maxWidth","margin","Img","src","Body","Title","title","Text","description","_c","$RefreshReg$"],"sources":["C:/Users/Hajar/Desktop/recommandation-marrakech1/frontend/src/components/RecommendationCard.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Card, Button, Spinner } from 'react-bootstrap';\r\n\r\nfunction GenerateRecommendation() {\r\n  const [recommendation, setRecommendation] = useState(null);\r\n  const [imageUrl, setImageUrl] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const fetchRecommendation = async () => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      // 1. Récupérer la recommandation\r\n      const response = await axios.post('http://localhost:8000/api/recommendations/create-recommendation/', {\r\n        lieu: 'Marrakech',\r\n        budget: 'moyen',\r\n        activite: 'détente',\r\n        climat: 'modéré',\r\n        transport: 'à pied',\r\n      });\r\n\r\n      setRecommendation(response.data);\r\n\r\n      // 2. Récupérer l'image\r\n      const imageResponse = await axios.get(`http://localhost:8000/api/recommendations/get-image/Marrakech/`);\r\n      setImageUrl(imageResponse.data.image_url);\r\n\r\n      setLoading(false);\r\n\r\n    } catch (error) {\r\n      console.error(\"Erreur lors de la récupération :\", error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"text-center my-5\">\r\n      <Button variant=\"success\" onClick={fetchRecommendation}>\r\n        Générer une Recommandation\r\n      </Button>\r\n\r\n      {loading && <Spinner animation=\"border\" variant=\"primary\" className=\"mt-3\" />}\r\n\r\n      {recommendation && (\r\n        <Card className=\"mt-4\" style={{ maxWidth: \"500px\", margin: \"auto\" }}>\r\n          {imageUrl && <Card.Img variant=\"top\" src={imageUrl} />}\r\n          <Card.Body>\r\n            <Card.Title>{recommendation.title}</Card.Title>\r\n            <Card.Text>{recommendation.description}</Card.Text>\r\n          </Card.Body>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GenerateRecommendation;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}